# mailcow FTS Flatcurve Settings, change them as you like.

# Maximum term length can be set via the 'maxlen' argument (maxlen is
# specified in bytes, not number of UTF-8 characters)
language_tokenizer_address_token_maxlen = 100
language_tokenizer_generic_algorithm = simple
language_tokenizer_generic_token_maxlen = 30

# These are not flatcurve settings, but required for Dovecot FTS. See
# Dovecot FTS Configuration link above for further information.
language en {
  default = yes
  language_filters = lowercase snowball english-possessive stopwords
}

language de {
  language_filters = lowercase snowball stopwords
}

language es {
  language_filters = lowercase snowball stopwords
}

language_tokenizers = generic email-address

fts_search_timeout = 300s

fts_autoindex = yes
# Tweak this setting if you only want to ensure big and frequent folders are indexed, not all.
fts_autoindex_max_recent_msgs = 20
fts flatcurve {
  substring_search = no
}

### THIS PART WILL BE CHANGED BY MODIFYING mailcow.conf AUTOMATICALLY DURING RUNTIME! ###

service indexer-worker {
  # Max amount of simultaniously running indexer jobs.
  process_limit=1

  # Max amount of RAM used by EACH indexer process.
  vsz_limit=128 MB
}

### THIS PART WILL BE CHANGED BY MODIFYING mailcow.conf AUTOMATICALLY DURING RUNTIME! ###